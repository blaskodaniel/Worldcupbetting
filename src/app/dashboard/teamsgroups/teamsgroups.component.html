<div class="row">
  <h2 class="page-title">Dashboard
          <small></small>
  </h2> 
</div>

<!-- TEAMS -->
<div class="row">
      <div class="col-xs-12">
          <section class="widget">
              <header>
                  <h4>
                      Teams <span class="fw-semi-bold"></span>
                  </h4>
                  <div class="widget-controls">
                      <div class="form-group">
                          <input type="text" class="form-control input-style" 
                          name="search" 
                          placeholder="Search.." 
                          [(ngModel)]="teamsearch">
                        </div>
                  </div>
              </header>
              <div class="body">
                  <table class="table table-striped">
                      <thead>
                      <tr>
                          <th class="hidden-xs">#</th>
                          <th class="hidden-xs">ID</th>
                          <th>Csoport</th>
                          <th>Name</th>
                          <th class="hidden-xs">Flag</th>
                          <th class="hidden-xs">Aktiv</th>
                          <th>Score</th>
                          <th></th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let i = index;let item of teams | orderBy: teamOrderKey : teamOrderReverse | filter:teamsearch">
                          <td class="hidden-xs">{{i+1}}</td>
                          <td class="hidden-xs">{{item._id}}</td>
                          <td>
                              <input class="transparentinput" style="width:60px;" type="text" [(ngModel)]="item.groupid.name" name="groupid" >
                          </td>
                          <td>
                              <input class="transparentinput" type="text" [(ngModel)]="item.name" name="name" >
                          </td>
                          <td class="hidden-xs text-muted">
                                <input class="transparentinput" type="text" [(ngModel)]="item.flag" name="flag" >
                              <img class="img-rounded" src="./assets/icons/flags/{{item.flag}}" alt="" height="50">
                          </td>
                          <td class="hidden-xs text-muted">
                              <input class="transparentinput numberInput" type="text" [(ngModel)]="item.aktiv" name="aktiv" >
                          </td>
                          <td>
                              <input class="transparentinput numberInput" type="text" [(ngModel)]="item.score" name="score" >
                          </td>
                          <td>
                            <i class="fa fa-floppy-o hidden-lg hidden-sm hidden-md" aria-hidden="true" (click)="EditTeam(item)"></i>&nbsp;&nbsp;
                            <i class="fa fa-trash hidden-lg hidden-sm hidden-md" aria-hidden="true" (click)="DeleteTeam(item)"></i>
                            <button class="btn btn-save hidden-xs" (click)="EditTeam(item)">Save</button>
                            <button class="btn btn-remove hidden-xs" (click)="DeleteTeam(item)">Remove</button>
                          </td>
                      </tr>
                      
                      </tbody>
    
                  </table>
                  <div class="clearfix">
                      <div class="pull-right">
                          <button class="btn btn-default btn-sm">
                              All delete
                          </button>
                          <div class="btn-group">
                              <ul class="dropdown-menu dropdown-menu-right">
                                  <li><a href="#" data-toggle="modal" data-target="#newGroup">Group</a></li>
                                  <li><a href="#" data-toggle="modal" data-target="#newTeam">Team</a></li>
                              </ul>
                              <button class="btn btn-sm btn-inverse dropdown-toggle" data-toggle="dropdown">
                                &nbsp; Add new &nbsp;
                                <i class="fa fa-caret-down"></i>
                            </button>
                          </div>
                      </div>
                      <p>Basic table with styled content</p>
                  </div>
              </div>
          </section>
      </div>
</div>


<!-- Modal Group-->
<div class="modal fade" id="newGroup" role="dialog">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Új csoport létrehozása</h4>
        </div>
        <div class="modal-body">
            <form [formGroup]="addNewGroupForm" (ngSubmit)="addNewGroup()">
                <div class="form-group">
                  <input type="text" class="form-control input-style" 
                  id="name" 
                  placeholder="Group name" 
                  formControlName="name" 
                  required>
                </div>
                <button type="submit" class="btn btn-default float-right" [disabled]="!addNewGroupForm.valid">Létrehoz</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Mégsem</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal Team-->
<div class="modal fade" id="newTeam" role="dialog">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Új csapat létrehozása</h4>
        </div>
        <div class="modal-body">
            <form [formGroup]="addNewTeamForm" (ngSubmit)="addNewTeam()">
                <div class="form-group">
                  <input type="text" class="form-control input-style" 
                  id="name" 
                  placeholder="Csapat neve" 
                  formControlName="name" 
                  required>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control input-style" 
                    id="flag" 
                    placeholder="Zászló fájlneve" 
                    formControlName="flag" 
                    required>
                </div>
                <div class="form-group">
                    <select class="form-control input-style select-style" formControlName="groupid" required>
                        <option [ngValue]="null">Group</option>
                        <option *ngFor="let group of groups" [ngValue]="group._id">{{group.name}}</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-default float-right" [disabled]="!addNewTeamForm.valid">Létrehoz</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Mégsem</button>
        </div>
      </div>
    </div>
  </div>